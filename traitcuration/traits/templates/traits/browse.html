{% extends "traits/base.html" %} 
{% load static %}
{% block title %} Browse Traits {% endblock %}
{% block content %}
<script src="{% static 'js/listjs/list.js' %}"></script>
<div id="traits-table" class="uk-container uk-container-xlarge">
  <div class="uk-margin">
    <form class="uk-search uk-search-default search">
      <span class="uk-search-icon-flip " uk-search-icon></span>
      <input
        class="uk-search-input search"
        onkeyup="search(this.value)"
        type="search"
        placeholder="Filter by trait or term name..."
      />
    </form>
  </div>

  <table class="uk-table uk-table-small uk-table-divider uk-table-justify">
    <thead>
      <tr>
        <th>TRAIT NAME</th>
        <th>SOURCE RECORDS</th>
        <th>MAPPED TERM</th>
        <th>MAPPED TERM LABEL</th>
        <th>TRAIT STATUS</th>
      </tr>
    </thead>
    <tbody class="list">
      {% for trait in traits %}
      <tr>
        <td class="name">
          <a href="{% url 'trait_detail' trait.id %}">{{trait.name}}</a>
        </td>
        <td>{% firstof trait.number_of_source_records '0' %}</td>
        <td>{% firstof trait.current_mapping.term_id.curie 'None' %}</td>
        <td class="label">{% firstof trait.current_mapping.term_id.label 'None' %}</td>
        <td>{{trait.status}}</td>
      </tr>
      {% endfor %}
    </tbody>
  </table>

  <script src="{% static 'js/table-filtering.js' %}"></script>
</div>
{% endblock %}
